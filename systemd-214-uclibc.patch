diff --git a/src/libsystemd/sd-bus/bus-control.c b/src/libsystemd/sd-bus/bus-control.c
index 076bbce..b28d842 100644
--- a/src/libsystemd/sd-bus/bus-control.c
+++ b/src/libsystemd/sd-bus/bus-control.c
@@ -26,6 +26,7 @@
 #include <stddef.h>
 #include <errno.h>
 
+#include "missing.h"
 #include "strv.h"
 #include "sd-bus.h"
 #include "bus-internal.h"
diff --git a/src/libsystemd/sd-bus/sd-bus.c b/src/libsystemd/sd-bus/sd-bus.c
index 1f1a4d3..6ec7b8d 100644
--- a/src/libsystemd/sd-bus/sd-bus.c
+++ b/src/libsystemd/sd-bus/sd-bus.c
@@ -33,7 +33,6 @@
 #include "macro.h"
 #include "strv.h"
 #include "set.h"
-#include "missing.h"
 #include "def.h"
 #include "cgroup-util.h"
 #include "bus-label.h"
diff --git a/src/shared/util.h b/src/shared/util.h
index 0f8c393..638bb01 100644
--- a/src/shared/util.h
+++ b/src/shared/util.h
@@ -42,6 +42,7 @@
 #include <locale.h>
 #include <mntent.h>
 #include <sys/socket.h>
+#include "missing.h"
 
 #if SIZEOF_PID_T == 4
 #  define PID_FMT "%" PRIu32
-- 
1.9.0

